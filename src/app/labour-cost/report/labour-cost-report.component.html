<div class="container">
  <h1>{{title}}</h1>
  <table matSort (matSortChange)="sortProviders($event)" matSortDisableClear >
    <tr class="header">
      <th mat-sort-header="name" >PAYROLL PROVIDER</th>
      <th mat-sort-header="workerCount">WORKER</th>
      <th mat-sort-header="complianceStats">COMPLIANCE SCORE</th>
      <th mat-sort-header="grossPayTotal">GROSS PAY (£)</th>
      <th mat-sort-header="payrollAdminTotal" >PAYROLL ADMIN (£)</th>
      <th mat-sort-header="labourCostTotal">LABOUR COST (£)</th>
      <th mat-sort-header="workForce">WORK-FORCE</th>
      
    </tr>
  
    <tr class="celldata" *ngFor="let provider of sortedData" >
      <td [ngStyle]="boldColumn('name')"  >{{provider.name}}</td>
      <td [ngStyle]="boldColumn('workerCount')"  >{{provider.workerCount}}</td>
      <td [ngStyle]="boldColumn('complianceStats')" >{{(provider.complianceStats !== null ? provider.complianceStats.Total : 0) / 100 | percent }}</td>
      <td [ngStyle]="boldColumn('grossPayTotal')" >{{provider.grossPayTotal / 100 | number:'1.0-0'}}</td>
      <td [ngStyle]="boldColumn('payrollAdminTotal')">{{provider.payrollAdminTotal === 0 ? '-' : provider.payrollAdminTotal}}</td>
      <td [ngStyle]="boldColumn('labourCostTotal')"  >{{provider.labourCostTotal / 100 | number:'1.0-0'}}</td>
      <td [ngStyle]="boldColumn('workForce')" >{{provider.workerCount / getTotalWorkForce() | percent:'1.1-1'}}</td>
    </tr>
    <tr class="middle">
      <div></div>
    </tr>
    <tr class="footer">
        <td> TOTAL </td>
        <td> {{getTotalWorkers() | number:'1.0-0'}} </td>
        <td> {{getTotalScore() | percent }} </td>
        <td> {{getTotalGrossPay() | number:'1.0-0'}} </td>
        <td> {{getTotalPayrollAdmin()}} </td>
        <td> {{getTotalLabourCost() / 100 | number:'1.0-0'}} </td>
        <td> {{getTotalWorkForce() / getTotalWorkForce() | percent:'1.1-1'}} </td>
    </tr>
  </table>
</div>